actions <- c("N", "S", "E", "W")
x <- 1:4
y <- 1:3
rewards <- matrix(rep(0, 12), nrow=3)
rewards[2, 2] <- NA
rewards[1, 4] <- 1
rewards[2, 4] <- -1
values <- rewards # initial values
states <- expand.grid(x=x, y=y)
# Transition probability
transition <- list("N" = c("N" = 0.8, "S" = 0, "E" = 0.1, "W" = 0.1),
"S"= c("S" = 0.8, "N" = 0, "E" = 0.1, "W" = 0.1),
"E"= c("E" = 0.8, "W" = 0, "S" = 0.1, "N" = 0.1),
"W"= c("W" = 0.8, "E" = 0, "S" = 0.1, "N" = 0.1))
# The value of an action (e.g. move north means y + 1)
action.values <- list("N" = c("x" = 0, "y" = 1),
"S" = c("x" = 0, "y" = -1),
"E" = c("x" = -1, "y" = 0),
"W" = c("x" = 1, "y" = 0))
# act() function serves to move the robot through states based on an action
act <- function(action, state) {
action.value <- action.values[[action]]
new.state <- state
#
if(state["x"] == 4 && state["y"] == 1 || (state["x"] == 4 && state["y"] == 2))
return(state)
#
new.x = state["x"] + action.value["x"]
new.y = state["y"] + action.value["y"]
# Constrained by edge of grid
new.state["x"] <- min(x[length(x)], max(x[1], new.x))
new.state["y"] <- min(y[length(y)], max(y[1], new.y))
#
if(is.na(rewards[new.state["y"], new.state["x"]]))
new.state <- state
#
return(new.state)
}
actions <- c("N", "S", "E", "W")
x <- 1:4
y <- 1:3
rewards <- matrix(rep(0, 12), nrow=3)
rewards[2, 2] <- NA
rewards[1, 4] <- 1
rewards[2, 4] <- -1
values <- rewards # initial values
states <- expand.grid(x=x, y=y)
# Transition probability
transition <- list("N" = c("N" = 0.8, "S" = 0, "E" = 0.1, "W" = 0.1),
"S"= c("S" = 0.8, "N" = 0, "E" = 0.1, "W" = 0.1),
"E"= c("E" = 0.8, "W" = 0, "S" = 0.1, "N" = 0.1),
"W"= c("W" = 0.8, "E" = 0, "S" = 0.1, "N" = 0.1))
# The value of an action (e.g. move north means y + 1)
action.values <- list("N" = c("x" = 0, "y" = 1),
"S" = c("x" = 0, "y" = -1),
"E" = c("x" = -1, "y" = 0),
"W" = c("x" = 1, "y" = 0))
# act() function serves to move the robot through states based on an action
act <- function(action, state) {
action.value <- action.values[[action]]
new.state <- state
#
if(state["x"] == 4 && state["y"] == 1 || (state["x"] == 4 && state["y"] == 2))
return(state)
#
new.x = state["x"] + action.value["x"]
new.y = state["y"] + action.value["y"]
# Constrained by edge of grid
new.state["x"] <- min(x[length(x)], max(x[1], new.x))
new.state["y"] <- min(y[length(y)], max(y[1], new.y))
#
if(is.na(rewards[new.state["y"], new.state["x"]]))
new.state <- state
#
return(new.state)
}
bellman.update <- function(action, state, values, gamma=1) {
state.transition.prob <- transition[[action]]
q <- rep(0, length(state.transition.prob))
for(i in 1:length(state.transition.prob)) {
new.state <- act(names(state.transition.prob)[i], state)
q[i] <- (state.transition.prob[i] * (rewards[state["y"], state["x"]] + (gamma * values[new.state["y"], new.state["x"]])))
}
sum(q)
}
value.iteration <- function(states, actions, rewards, values, gamma, niter) {
for (j in 1:niter) {
for (i in 1:nrow(states)) {
state <- unlist(states[i,])
if(i %in% c(4, 8)) next # terminal states
q.values <- as.numeric(lapply(actions, bellman.update, state=state, values=values, gamma=gamma))
values[state["y"], state["x"]] <- max(q.values)
}
}
return(values)
}
final.values <- value.iteration(states=states, actions=actions, rewards=rewards, values=values, gamma=0.99, niter=100)
final.values
library(datasets)
head(iris)
library(ggplot2)
library(datasets)
head(iris)
ggplot(iris, aes(Petal.Length,
Petal.Width,
color = Species)) +
geom_point() +
theme_bw()
library(ggplot2)
library(datasets)
head(iris)
ggplot(iris, aes(Petal.Length,
Petal.Width,
color = Species)) +
geom_point(size = 3) +
theme_bw()
data.frame(a, b)
a <- 1:10
b <- 2:20
data.frame(a, b)
a <- 1:10
b <- 11:20
data.frame(a, b)
shiny::runApp('RDatelligence/RUNT')
runApp('RDatelligence/RUNT')
runApp('RDatelligence/RUNT')
runApp('RDatelligence/RUNT')
runApp('RDatelligence/RUNT')
runApp('RDatelligence/RUNT')
runApp('RDatelligence/RUNT')
runApp('RDatelligence/RUNT')
runApp('RDatelligence/RUNT')
runApp('RDatelligence/RUNT')
runApp('RDatelligence/RUNT')
runApp('RDatelligence/RUNT')
runApp('RDatelligence/RUNT')
runApp('RDatelligence/RUNT')
runApp('RDatelligence/RUNT')
runApp('RDatelligence/RUNT')
runApp('RDatelligence/RUNT')
runApp('RDatelligence/RUNT')
runApp('RDatelligence/RUNT')
runApp('RDatelligence/RUNT')
runApp('RDatelligence/RUNT')
runApp('RDatelligence/RUNT')
runApp('RDatelligence/RUNT')
runApp('RDatelligence/RUNT')
runApp('RDatelligence/RUNT')
runApp('RDatelligence/RUNT')
runApp('RDatelligence/RUNT')
runApp('RDatelligence/RUNT')
runApp('RDatelligence/RUNT')
runApp('RDatelligence/RUNT')
shiny::runApp('RDatelligence/RUNT')
shiny::runApp('RDatelligence/RUNT')
runApp('RDatelligence/RUNT')
runApp('RDatelligence/RUNT')
install.packages("quantmod")
library(quantmod)
from <- c("CAD", "JPY", "USD")
to <- c("USD", "USD", "EUR")
getQuote(paste0(from, to, "=X"))
library(quantmod)
from <- c("USD", "EUR", "NZD")
to <- rep("COP", 3)
getQuote(paste0(from, to, "=X"))
getFX("COP/USD",
from = as.Date("2010/04/02", format = "%Y/%m/%d"),
to = Sys.Date(),
)
install.packages('curl')
getFX("COP/USD",
from = as.Date("2010/04/02", format = "%Y/%m/%d"),
to = Sys.Date(),
)
getFX("COP/USD",
from = as.Date("2017/04/02", format = "%Y/%m/%d"),
to = Sys.Date(),
)
getFX("USD/COP",
from = as.Date("2017/04/02", format = "%Y/%m/%d"),
to = Sys.Date(),
)
getFX("USD/COP",from = "2017-04-02")
getFX("EUR/USD",from="2017-01-01")
print(getFX("EUR/USD",from="2017-01-01"))
COPUSD
USDCOP
install.packages("TFX")
library(TFX)
library(TFX)
pairs <- sep="COP/USD"
library(TFX)
pairs <- "COP/USD"
QueryTrueFX(ConnectTrueFX(pairs, "delarosaelias@yahoo.com", "2mamimami"))
download.file(http://obieebr.banrep.gov.co/analytics/saw.dll?Download&Format=excel2007&Extension=.xlsx&BypassCache=true&path=%2Fshared%2fSeries%20Estad%c3%adsticas_T%2F1.%20Tasa%20de%20Cambio%20Peso%20Colombiano%2F1.3%20Cotizaci%C3%B3n%20hist%C3%B3rica%20del%20d%C3%B3lar%20-%20Disponible%20desde%20enero%20de%201950%2F1.3.1.TCM_Serie%20empalmada%20de%20datos%20promedio%20por%20meses%20y%20datos%20a%20fin%20de%20mes%20IQY&lang=es&NQUser=publico&NQPassword=publico&SyncOperation=1)
download.file("http://obieebr.banrep.gov.co/analytics/saw.dll?Download&Format=excel2007&Extension=.xlsx&BypassCache=true&path=%2Fshared%2fSeries%20Estad%c3%adsticas_T%2F1.%20Tasa%20de%20Cambio%20Peso%20Colombiano%2F1.3%20Cotizaci%C3%B3n%20hist%C3%B3rica%20del%20d%C3%B3lar%20-%20Disponible%20desde%20enero%20de%201950%2F1.3.1.TCM_Serie%20empalmada%20de%20datos%20promedio%20por%20meses%20y%20datos%20a%20fin%20de%20mes%20IQY&lang=es&NQUser=publico&NQPassword=publico&SyncOperation=1")
download.file("http://obieebr.banrep.gov.co/analytics/saw.dll?Download&Format=excel2007&Extension=.xlsx&BypassCache=true&path=%2Fshared%2fSeries%20Estad%c3%adsticas_T%2F1.%20Tasa%20de%20Cambio%20Peso%20Colombiano%2F1.3%20Cotizaci%C3%B3n%20hist%C3%B3rica%20del%20d%C3%B3lar%20-%20Disponible%20desde%20enero%20de%201950%2F1.3.1.TCM_Serie%20empalmada%20de%20datos%20promedio%20por%20meses%20y%20datos%20a%20fin%20de%20mes%20IQY&lang=es&NQUser=publico&NQPassword=publico&SyncOperation=1", "dolar.xls")
install.packages("XLConnect")
install.packages("rJava")
install.packages("rJava")
install.packages("rJava")
install.packages("rJava")
install.packages("XLConnect")
require(XLConnect)
require(XLConnect)
install.packages("XLConnect")
require(XLConnect)
setwd("~/RDatelligence/RUNT")
source('~/RDatelligence/RUNT/checks.R')
source('~/RDatelligence/RUNT/variation.R')
shiny::runApp()
runApp()
runApp()
source('~/RDatelligence/RUNT/variation.R')
runApp()
runApp()
source('~/RDatelligence/RUNT/variation.R')
runApp()
runApp()
runApp()
runApp()
runApp()
runApp()
runApp()
runApp()
